{% extends "inquilinos/base.html" %}
{% block content %}
    <br/>
    {% if validlink %}
        <div class="col-md-3 offset-md-4 p-5 d-flex justify-content-center border rounded bg-white">
            <div class="container">
                <div class="row">
                    <center>
                        <h5 class="text-red-50 mb-3">Por favor, ingresa y confirma tu nueva contraseña.</h5>
                    </center>
                </div>
                <form action="" method="post">
                    {% csrf_token %}
                    <div class="form-outline form-white mb-4">
                        <input class="form-control form-control-lg"
                               type="password"
                               id="id_new_password1"
                               name="new_password1"
                               value="{% if form.password1.value %}{{ form.password1.value }}{% endif %}"/>
                        <center>
                            <label class="form-label" for="id_new_password1">
                                Ingresa una nueva contraseña
                                {% if form.new_password1.errors %}
                                    {% for error in form.new_password1.errors %}<div style="color: red; font-weight:bolder">{{ error }}</div>{% endfor %}
                                {% endif %}
                            </label>
                        </center>
                    </div>
                    <div class="form-outline form-white mb-4">
                        <input class="form-control form-control-lg"
                               type="password"
                               id="id_new_password2"
                               name="new_password2"
                               value="{% if form.password2.value %} {{ form.password2.value }}{% endif %}"/>
                        <center>
                            <label class="form-label" for="id_new_password2">
                                Repite la contraseña
                                {% if form.new_password2.errors %}
                                    {% for error in form.new_password2.errors %}<div style="color: red; font-weight:bolder">{{ error }}</div>{% endfor %}
                                {% endif %}
                            </label>
                        </center>
                    </div>
                    <center>
                        <button class="btn btn-outline-primary btn-md px-5" type="submit">Cambiar mi contraseña</button>
                    </center>
                </form>
            </div>
        </div>
    {% else %}
        <br/>
        <div class="col-md-3 offset-md-4 p-5 d-flex justify-content-center border rounded bg-white">
            <div class="container">
                <div class="row">
                    <h5 style="color: red;">
                        <center>El restablecimiento de la contraseña falló.</center>
                    </h5>
                </div>
                <div class="row text-justify">
                    <p style="font-size: 16px;text-align: center;">
                        <strong>El enlace para restablecer la contraseña no es válido, posiblemente porque ya ha sido utilizado. Por favor, solicite un nuevo restablecimiento de contraseña.</strong>
                    </p>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}
